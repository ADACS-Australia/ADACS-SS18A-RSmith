% $Id$

\input{stochastic-module.tex}
\clearpage

\section{Stochastic Search Programs}
\label{section:stochastic}

This section of \textsc{LALApps} contains programs that can be used to
search interferometer data for stochastic gravitational wave
backgrounds.

\clearpage
\input{olapredfcn}

\clearpage
\subsection{Program \texttt{lalapps\_stochastic\_pipe}}
\label{program:stochastic-pipeline}
\idx[Program]{stochastic\_pipeline.py}

\begin{entry}
\item[Name]
\verb$lalapps_stochastic_pipe$ --- python script to generate Condor DAGs
to run the stochastic pipeline.

\item[Synopsis]
\begin{verbatim}
  -h, --help               display this message
  -v, --version            print version information and exit

  -d, --datafind           run LSCdataFind to create frame cache files
  -s, --stochastic         run lalapps_stochastic

  -P, --priority PRIO      run jobs with condor priority PRIO

  -f, --config-file FILE   use configuration file FILE
  -l, --log-path PATH      directory to write condor log file
\end{verbatim}

\item[Description] \verb$lalapps_stochastic_pipe$ generates a Condor DAG
to run the stochastic search pipeline. The configuration should specify
the parameters needed to run the jobs and must be specified with the
\verb$--config-file$ option. A file containing science segments to
analysed should be specified in the \verb$[input]$ section of the
configuration file with a line such as
\begin{verbatim}
segments = S2H1L1v03_selectedsegs.txt
\end{verbatim}
This should contain four whitespace separated columns:
\begin{verbatim}
  segment_id    gps_start_time    gps_end_time    duration
\end{verbatim}
that define the science segments to be used. Lines starting with an
octothorpe are ignored.

\item[Example]
Generate a DAG to run a stochastic search on a pair of interferometers
specified in the configuration file. The generated DAG is then submitted
with \texttt{condor\_submit\_dag}
\begin{verbatim}
lalapps_inspiral_pipe --log-path /home/ram/dag_logs \
--datafind --stochastic --config-file stochastic_H1L1.ini

condor_submit_dag stochastic_H1L1.dag
\end{verbatim}

\item[Author]
Adam Mercer
\end{entry}

\clearpage
\subsection{Program \texttt{lalapps\_stochastic}}
\label{program:lalapps-stochastic-dev}
\idx[Program]{lalapps\_stochastic\_dev}

\begin{entry}
\item[Name]
\verb$lalapps_stochastic_dev$ --- standalone stochastic analysis code.

\item[Synopsis]
\begin{verbatim}
 --help                        print this message
 --version                     display version
 --verbose                     verbose mode
 --debug                       save out intermediate products
 --debug-level N               set lalDebugLevel
 --gps-start-time N            GPS start time
 --gps-end-time N              GPS end time
 --segment-duration N          segment duration
 --sample-rate N               sample rate
 --resample-rate N             resample rate
 --f-min N                     minimal frequency
 --f-max N                     maximal frequency
 --ifo-one IFO                 ifo for first stream
 --ifo-two IFO                 ifo for second stream
 --frame-cache-one FILE        cache file for first stream
 --frame-cache-two FILE        cache file for second stream
 --calibration-cache-one FILE  first stream calibration cache
 --calibration-cache-two FILE  second stream calibration cache
 --apply-mask                  apply frequency masking
 --mask-bin N                  number of bins to mask
 --overlap-hann                overlaping hann windows
 --hann-duration N             hann duration
 --high-pass-filter            apply high pass filtering
 --hpf-frequency N             high pass filter knee frequency
 --hpf-attenuation N           high pass filter attenuation
 --hpf-order N                 high pass filter order
 --filter-omega-alpha N        omega_gw exponent
 --filter-omega-fref N         omega_gw reference frequency
 --filter-omega0 N             omega_0
\end{verbatim}

\item[Description] \verb$lalapps_stochastic$ runs the standalone
stochastic analysis code.

\item[Author] 
Adam Mercer, Tania Regimbau
\end{entry}
