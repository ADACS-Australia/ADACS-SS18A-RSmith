/*
*  Copyright (C) 2007 Xavier Siemens
*
*  This program is free software; you can redistribute it and/or modify
*  it under the terms of the GNU General Public License as published by
*  the Free Software Foundation; either version 2 of the License, or
*  (at your option) any later version.
*
*  This program is distributed in the hope that it will be useful,
*  but WITHOUT ANY WARRANTY; without even the implied warranty of
*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*  GNU General Public License for more details.
*
*  You should have received a copy of the GNU General Public License
*  along with with program; see the file COPYING. If not, write to the
*  Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,
*  MA  02111-1307  USA
*/

/* Inverse of sensing function */

#define CinvDirectOrder 10
const REAL8   CinvDirectCoefs[CinvDirectOrder]={
  -5.064134134117471e-12,     4.336986644307623e-11,    -1.654521441913105e-10,     3.690153541429251e-10,    -5.302611100111189e-10,
   5.090863822750042e-10,    -3.265421134346412e-10,     1.349364065299022e-10,    -3.259529246629165e-11,     3.506784845025096e-12};

#define CinvRecursOrder 10
const REAL8   CinvRecursCoefs[CinvRecursOrder]={
  1.000000000000000e+00,     -6.502197479586400e+00,    1.935372796880135e+01,     -3.459297490160266e+01,
  4.070748004036863e+01,     -3.217563008237806e+01,    1.641471545244305e+01,     -4.681257169018295e+00,
  3.896962149825268e-01,    8.777533064018385e-02};


/*************** Servo -- 11 digital filters ********************/

#define ServoGain 4.224345584256015e-01

#define G_Dord 3 
#define G_Rord 3 
#define NGfilt 11

const REAL8 G_D[NGfilt][G_Dord]={{1.000000000000000e+00,    -1.993805578748465e+00,     9.938538471048382e-01},
				 {1.000000000000000e+00,    -1.958539845618360e+00,     9.586838885682200e-01},
				 {1,     2,     1},
				 {1,     2,     1},
				 {1,     2,     1},
				 {1.000000000000000e+00,    -1.993665484585140e+00,     9.937114567822000e-01},
				 {1.000000000000000e+00,    -1.987653620034890e+00,     9.878032978626800e-01},
				 {1.000000000000000e+00,    -1.999673183024970e+00,     9.996941815357701e-01},
				 {1.000000000000000e+00,    -1.999620565861710e+00,     9.996652896427800e-01},
				 {1.000000000000000e+00,    -1.999614810624530e+00,     9.996601002413000e-01},
				 {1.000000000000000e+00,    -1.999615209009680e+00,     9.996610681587700e-01}};


const REAL8 G_R[NGfilt][G_Rord]={{1.000000000000000e+00,    -1.998779669290378e+00,     9.987800415921378e-01},
				 {1.000000000000000e+00,    -1.591004482920200e+00,     7.156229686166100e-01},
				 {1.000000000000000e+00,    -4.313445088108000e-02,     1.719018017142400e-01},
				 {1.000000000000000e+00,    -1.996898380517780e+00,     9.969042884286400e-01},
				 {1.000000000000000e+00,    -1.998695676730370e+00,     9.987165553635799e-01},
				 {1.000000000000000e+00,    5.065786242625600e-01,    2.173074015550600e-01},
				 {1.000000000000000e+00,    5.065786242625600e-01,    2.173074015550600e-01},
				 {1.000000000000000e+00,    -1.999969326118230e+00,    9.999903277388200e-01},
				 {1.000000000000000e+00,    -1.999944682783200e+00,     9.999894138135200e-01},
				 {1.000000000000000e+00,    -1.999920708279300e+00,     9.999660048244000e-01},
				 {1.000000000000000e+00,    -1.999943413598780e+00,     9.999892802749200e-01}};


/***************** Actuation function ***************/

/* analog part: 14th order filter */



#define A_0_Dord 15

const REAL8 A_0_D[A_0_Dord] = {
  -7.379886736713665e-24,    -1.343572307663409e-22,    -1.213348039095588e-21,    -6.780571288120618e-21,
  -2.599269879105687e-20,    -7.245748418211290e-20,    -1.515928652873993e-19,    -2.415181889266947e-19,
  -2.938872742322626e-19,    -2.713629891037298e-19,    -1.869775342773263e-19,    -9.318717484076496e-20,
  -3.175556535666793e-20,    -6.624239973328871e-21,    -6.383396749728615e-22};

#define A_0_Rord 15
const REAL8 A_0_R[A_0_Rord] = { 1.0,
					 1.050847368827720e+00,
					 5.630329577973697e-01,
					 -9.314302084996914e-01,
					  -1.835977617355011e+00,
					  -1.164009570620120e+00,
					  -5.607318643664794e-01,
					 3.103608057893609e-01,
					 3.429979037617262e-01,
					 4.848930799781801e-01,
					 4.017364577082890e-01,
					 2.321211415814908e-01,
					 8.829139184704583e-02, 
					 1.632181845287020e-02,
					 1.549628954697966e-03}; 

/* Digital part: 7 2nd order filters the x-arm; 6 2nd order filters for the y-arm */

#define A_digital_Dord 3 
#define A_digital_Rord 3 

#define NAXfilt 7
#define NAYfilt 6

#define AXGain 8.689388453126883e-01
#define AYGain 8.712061251414416e-01

const REAL8 AX_D[NAXfilt][A_digital_Dord]={{1.000000000000000e+00,     1.645590499372560e+00,     9.999998863310200e-01},
					   {1.000000000000000e+00,     1.845845410919360e+00,     9.999999230020000e-01},
					   {1.000000000000000e+00,     1.645477248206420e+00,     1.000000000000000e+00},
					   {1.000000000000000e+00,     1.646757961468810e+00,     1.000000000000000e+00},
					   {1.000000000000000e+00,     1.648666421909540e+00,     1.000000000000000e+00},
					   {1.000000000000000e+00,     1.649937578132850e+00,     1.000000000000000e+00},
					   {1.000000000000000e+00,    -1.930730863745910e+00,     1.000000000000000e+00}};

const REAL8 AX_R[NAXfilt][A_digital_Rord]={{1.000000000000000e+00,     1.636290816768530e+00,     9.886973392161200e-01},
					   {1.000000000000000e+00,     1.838766414695840e+00,     9.923297292695100e-01},
					   {1.000000000000000e+00,     1.629528818058270e+00,     9.880924350877800e-01},
					   {1.000000000000000e+00,     1.646306062064480e+00,     9.883427514028500e-01},
					   {1.000000000000000e+00,     1.640679315576360e+00,     9.986456882414600e-01},
					   {1.000000000000000e+00,     1.652443453421570e+00,     9.986659335110600e-01},
					   {1.000000000000000e+00,     -1.925706583701080e+00,    9.947955489371900e-01}};



const REAL8 AY_D[NAYfilt][A_digital_Dord]={{1.000000000000000e+00,     1.648961526507140e+00,     9.999998868206100e-01},
					   {1.000000000000000e+00,     1.843920358103330e+00,     9.999999225421100e-01},
					   {1.000000000000000e+00,     1.645477248206420e+00,     1.000000000000000e+00},
					   {1.000000000000000e+00,     1.646757961468810e+00,     1.000000000000000e+00},
					   {1.000000000000000e+00,     1.648666421909540e+00,     1.000000000000000e+00},
					   {1.000000000000000e+00,     1.649937578132850e+00,     1.000000000000000e+00}};


const REAL8 AY_R[NAYfilt][A_digital_Rord]={{1.000000000000000e+00,     1.639682704794350e+00,     9.887457477293700e-01},
					   {1.000000000000000e+00,     1.836806671199440e+00,     9.922840940388600e-01},
					   {1.000000000000000e+00,     1.629528818058270e+00,     9.880924350877800e-01},
					   {1.000000000000000e+00,     1.646306062064480e+00,     9.883427514028500e-01},
					   {1.000000000000000e+00,     1.640679315576360e+00,     9.986456882414600e-01},
					   {1.000000000000000e+00,     1.652443453421570e+00,     9.986659335110600e-01}};




