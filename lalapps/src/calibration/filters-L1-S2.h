/*
*  Copyright (C) 2007 Xavier Siemens
*
*  This program is free software; you can redistribute it and/or modify
*  it under the terms of the GNU General Public License as published by
*  the Free Software Foundation; either version 2 of the License, or
*  (at your option) any later version.
*
*  This program is distributed in the hope that it will be useful,
*  but WITHOUT ANY WARRANTY; without even the implied warranty of
*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*  GNU General Public License for more details.
*
*  You should have received a copy of the GNU General Public License
*  along with with program; see the file COPYING. If not, write to the
*  Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,
*  MA  02111-1307  USA
*/

/* Inverse of sensing function */

#define CinvDirectOrder 13
const REAL8   CinvDirectCoefs[CinvDirectOrder]={
  3.310353479099362e-10,    -3.369957548859960e-09,     1.571406378518420e-08,    -4.437263896056617e-08,
  8.448959499617576e-08,    -1.142598574750712e-07,     1.125071764194897e-07,    -8.125377980527698e-08,
  4.270731430236144e-08,    -1.592805024936867e-08,     4.000228705893193e-09,    -6.072593385198032e-10,
  4.212982067311415e-11};

#define CinvRecursOrder 13
const REAL8   CinvRecursCoefs[CinvRecursOrder]={
  1.000000000000000e+00,    -5.702630135108516e+00,     1.503360844219251e+01,    -2.408247074633077e+01,
  2.569548346547491e+01,    -1.832488461558141e+01,     7.852784685163904e+00,    -1.177946818785045e+00,
  -4.294349994751645e-01,    1.087647421360703e-01,     3.122293153962442e-02,     2.468552694941970e-03,
  6.460281790651396e-05};


/*************** Servo -- 11 digital filters ********************/

#define ServoGain -3.176021740580070e+00

#define G_Dord 3 
#define G_Rord 3 
#define NGfilt 11

const REAL8 G_D[NGfilt][G_Dord]={
{    1.000000000000000e+00,    -1.990686697247156e+00,     9.907951318686424e-01},
{    1.000000000000000e+00,    -1.962240026700430e+00,     9.623699067731800e-01},
{    1,                         2,                                             1},
{    1.000000000000000e+00,    -1.993732861091660e+00,     9.938829971162200e-01},
{    1.000000000000000e+00,    -9.942640540363000e-01,                         0},
{    1.000000000000000e+00,    -1.999672440485340e+00,     9.996931936991700e-01},
{    1.000000000000000e+00,    -1.999583327218380e+00,     9.996158620981900e-01},
{    1.000000000000000e+00,    -1.999506154732990e+00,     9.995506710433600e-01},
{    1.000000000000000e+00,    -1.999485127059190e+00,     9.994907789328100e-01},
{    1.000000000000000e+00,    -1.996040364708990e+00,     9.961724716616300e-01},
{    1.000000000000000e+00,    -9.923593600910100e-01,                         0}
};


const REAL8 G_R[NGfilt][G_Rord]={
{     1.000000000000000e+00,    -1.998779669290378e+00,     9.987800415921378e-01},
{     1.000000000000000e+00,    -1.466320035010830e+00,     6.365794118289000e-01},
{     1.000000000000000e+00,    -1.030015339492850e+00,     4.305692350680600e-01},
{     1.000000000000000e+00,    -1.997654096178000e+00,     9.977016912417900e-01},
{     1.000000000000000e+00,    -9.996165783185200e-01,                         0},
{     1.000000000000000e+00,    -1.999948559054000e+00,     9.999693151334800e-01},
{     1.000000000000000e+00,    -1.999929039063550e+00,     9.999615795683801e-01},
{     1.000000000000000e+00,    -1.999910532703850e+00,     9.999550580171600e-01},
{     1.000000000000000e+00,    -1.999866412108210e+00,     9.998720650596000e-01},
{     1.000000000000000e+00,    -1.996113710381370e+00,     9.961724248416600e-01},
{     1.000000000000000e+00,    -9.961723827035101e-01,                         0},
};


/***************** Actuation function ***************/

/* analog part: 14th order filter */



#define A_0_Dord 15

const REAL8 A_0_D[A_0_Dord] = {
  -6.765452660928880e-24,    -1.058158673746775e-22,    -9.773339542877425e-22,    -5.614605763833572e-21,
  -2.184702504152712e-20,    -6.149624167743705e-20,    -1.295322301780294e-19,    -2.065875602389470e-19,
  -2.492293938437591e-19,    -2.252111079324494e-19,    -1.495000422952788e-19,    -7.047875802702473e-20,
  -2.222834302052548e-20,    -4.176853722008156e-21,    -3.498094430061779e-22};

#define A_0_Rord 15
const REAL8 A_0_R[A_0_Rord] = { 
  1.000000000000000e+00,     9.950357085709929e-01,    -1.285041382259856e-01,    -1.027956907735266e+00,
  -1.490676997329626e+00,    -6.446395553584672e-01,     2.007406153413936e-02,     1.688836000979359e-01,
  3.366290890335858e-01,     3.711870022288650e-01,     2.470429118303059e-01,     1.161260814824386e-01,
  3.204586432677109e-02,     4.347991670132129e-03,     4.076690705165606e-04};

/* Digital part: 7 2nd order filters the x-arm; 6 2nd order filters for the y-arm */

#define A_digital_Dord 3 
#define A_digital_Rord 3 

#define NAXfilt 10
#define NAYfilt 10

#define AXGain 1.0
#define AYGain 1.0

const REAL8 AX_D[NAXfilt][A_digital_Dord]={
{  1.000000000000000e+00,     1.835669317282800e+00,     1.000000000000000e+00},
{  1.000000000000000e+00,     1.835746551325860e+00,     1.000000000000000e+00},
{  1.000000000000000e+00,     1.835857613138420e+00,     1.000000000000000e+00},
{  1.000000000000000e+00,     1.835934762469360e+00,     1.000000000000000e+00},
{  1.000000000000000e+00,     1.659373336861650e+00,     1.000000000000000e+00},
{  1.000000000000000e+00,     1.659428734411450e+00,     1.000000000000000e+00},
{  1.000000000000000e+00,     1.659527291757140e+00,     1.000000000000000e+00},
{  1.000000000000000e+00,     1.659642610042280e+00,     1.000000000000000e+00},
{  1.000000000000000e+00,     1.659741111249770e+00,     1.000000000000000e+00},
{  1.000000000000000e+00,     1.659796454547530e+00,     1.000000000000000e+00},
};

const REAL8 AX_R[NAXfilt][A_digital_Rord]={
{  1.000000000000000e+00,     1.833252494872880e+00,     9.981808920822500e-01},
{  1.000000000000000e+00,     1.835016196311920e+00,     9.981901746938801e-01},
{  1.000000000000000e+00,     1.835000530311940e+00,     9.997887596722300e-01},
{  1.000000000000000e+00,     1.836214396069650e+00,     9.997895052332200e-01},
{  1.000000000000000e+00,     1.657653114447590e+00,     9.982533649159600e-01},
{  1.000000000000000e+00,     1.658619348242040e+00,     9.982556074142900e-01},
{  1.000000000000000e+00,     1.658300866115790e+00,     9.993164656575200e-01},
{  1.000000000000000e+00,     1.658768098888960e+00,     9.998302387455000e-01},
{  1.000000000000000e+00,     1.659734375839840e+00,     9.993177687705100e-01},
{  1.000000000000000e+00,     1.660119116735660e+00,     9.998305442473600e-01},
};


const REAL8 AY_D[NAYfilt][A_digital_Dord]={
{ 1.000000000000000e+00,     1.835669317282800e+00,     1.000000000000000e+00},
{ 1.000000000000000e+00,     1.835746551325860e+00,     1.000000000000000e+00},
{ 1.000000000000000e+00,     1.835857613138420e+00,     1.000000000000000e+00},
{ 1.000000000000000e+00,     1.835934762469360e+00,     1.000000000000000e+00},
{ 1.000000000000000e+00,     1.655735365305920e+00,     1.000000000000000e+00},
{ 1.000000000000000e+00,     1.655975594380720e+00,     1.000000000000000e+00},
{ 1.000000000000000e+00,     1.656402696356720e+00,     1.000000000000000e+00},
{ 1.000000000000000e+00,     1.656901964780930e+00,     1.000000000000000e+00},
{ 1.000000000000000e+00,     1.657328024475650e+00,     1.000000000000000e+00},
{ 1.000000000000000e+00,     1.657567246288660e+00,     1.000000000000000e+00},
};


const REAL8 AY_R[NAYfilt][A_digital_Rord]={
{ 1.000000000000000e+00,     1.833252494872880e+00,     9.981808920822500e-01},
{ 1.000000000000000e+00,     1.835016196311920e+00,     9.981901746938801e-01},
{ 1.000000000000000e+00,     1.835000530311940e+00,     9.997887596722300e-01},
{ 1.000000000000000e+00,     1.836214396069650e+00,     9.997895052332200e-01},
{ 1.000000000000000e+00,     1.648330454581210e+00,     9.924732641389400e-01},
{ 1.000000000000000e+00,     1.652527906198060e+00,     9.925144988658900e-01},
{ 1.000000000000000e+00,     1.651095746076740e+00,     9.970462703601500e-01},
{ 1.000000000000000e+00,     1.653109836003470e+00,     9.992659221230500e-01},
{ 1.000000000000000e+00,     1.657310376008160e+00,     9.970703154860600e-01},
{ 1.000000000000000e+00,     1.658960999373800e+00,     9.992715633437600e-01},
};




