/*
*  Copyright (C) 2007 Xavier Siemens
*
*  This program is free software; you can redistribute it and/or modify
*  it under the terms of the GNU General Public License as published by
*  the Free Software Foundation; either version 2 of the License, or
*  (at your option) any later version.
*
*  This program is distributed in the hope that it will be useful,
*  but WITHOUT ANY WARRANTY; without even the implied warranty of
*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*  GNU General Public License for more details.
*
*  You should have received a copy of the GNU General Public License
*  along with with program; see the file COPYING. If not, write to the
*  Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,
*  MA  02111-1307  USA
*/

/* Inverse of sensing function */

#define CinvDirectOrder 10
const REAL8   CinvDirectCoefs[CinvDirectOrder]={
  -8.103711078686413e-12,     6.938467829001232e-11,    -2.646344252238192e-10,     5.900900182398848e-10,
  -8.477439875880075e-10,     8.137079139958225e-10,    -5.218181606780752e-10,     2.155820962399076e-10,
  -5.206458934696976e-11,     5.600167144973496e-12};

#define CinvRecursOrder 10
const REAL8   CinvRecursCoefs[CinvRecursOrder]={
  1.000000000000000e+00,    -6.502197479586400e+00,     1.935372796880135e+01,    -3.459297490160266e+01,
  4.070748004036863e+01,    -3.217563008237806e+01,     1.641471545244305e+01,    -4.681257169018294e+00,
  3.896962149825268e-01,     8.777533064018386e-02};


/*************** Servo -- 11 digital filters ********************/

#define ServoGain 3.906955322774742e+00

#define G_Dord 3 
#define G_Rord 3 
#define NGfilt 5

const REAL8 G_D[NGfilt][G_Dord]={
{     1.000000000000000e+00,    -1.983730392410458e+00,     9.838616787960581e-01},
{     1.000000000000000e+00,    -1.958544392267680e+00,     9.586884176855800e-01},
{     1,     2,     1},
{     1.000000000000000e+00,    -1.993665484585140e+00,     9.937114567822000e-01},
{     1.000000000000000e+00,    -1.987653620034890e+00,     9.878032978626800e-01},
};


const REAL8 G_R[NGfilt][G_Rord]={
{     1.000000000000000e+00,    -1.998779669290378e+00,     9.987800415921378e-01},
{     1.000000000000000e+00,    -1.009734072201600e+00,     3.579483155253800e-01},
{     1.000000000000000e+00,    -1.009734072201600e+00,     3.579483155253800e-01},
{     1.000000000000000e+00,    -1.996898381646240e+00,     9.969042895495400e-01},
{     1.000000000000000e+00,    -1.998695678083740e+00,     9.987165568885300e-01},
};


/***************** Actuation function ***************/

/* analog part: 14th order filter */

#define A_0_Dord 15

const REAL8 A_0_D[A_0_Dord] = {
  -6.992661137273017e-24,    -1.256382209681697e-22,    -1.148813647280380e-21,    -6.514340807335207e-21,
  -2.531057954142224e-20,    -7.148957148151185e-20,    -1.515747738601108e-19,    -2.447345594655083e-19,
  -3.016834933686960e-19,    -2.819796042878099e-19,    -1.964867201761281e-19,    -9.892956724586578e-20,
  -3.402309044644282e-20,    -7.155840605883817e-21,    -6.946584136654714e-22};

#define A_0_Rord 15
const REAL8 A_0_R[A_0_Rord] = { 
  1.000000000000000e+00,     9.747872579531722e-01,     5.034322051265261e-01,    -9.490591646856956e-01,
 -1.755737848732219e+00,    -1.045743044828683e+00,    -5.138778875517727e-01,     3.289466778995321e-01,
  3.127720864100682e-01,     4.659194611465094e-01,     3.738584329215219e-01,     2.102862859239987e-01,
  7.917983464393023e-02,     1.388947922957862e-02,     1.349277143226714e-03}; 

/* Digital part: 7 2nd order filters the x-arm; 6 2nd order filters for the y-arm */

#define A_digital_Dord 3 
#define A_digital_Rord 3 

#define NAXfilt 4
#define NAYfilt 4

#define AXGain 9.902610082225949e-01
#define AYGain 9.902624300264870e-01

const REAL8 AX_D[NAXfilt][A_digital_Dord]={
{1.000000000000000e+00,     1.645590499372560e+00,     9.999998863310200e-01},
{1.000000000000000e+00,     1.845845410919360e+00,     9.999999230020000e-01},
{1.000000000000000e+00,    -1.982627326939080e+00,     9.999995504707700e-01},
{1.000000000000000e+00,    -1.982628218188400e+00,     1.000000449529430e+00},
};

const REAL8 AX_R[NAXfilt][A_digital_Rord]={
{1.000000000000000e+00,     1.636290816768530e+00,     9.886973392161200e-01},
{1.000000000000000e+00,     1.838766414695840e+00,     9.923297292695100e-01},
{1.000000000000000e+00,    -1.982394934485120e+00,     9.997291418722301e-01},
{1.000000000000000e+00,    -1.982323078047150e+00,     9.997285877426600e-01},
};



const REAL8 AY_D[NAYfilt][A_digital_Dord]={
{1.000000000000000e+00,     1.648961526507140e+00,     9.999998868206100e-01},
{1.000000000000000e+00,     1.843920358103330e+00,     9.999999225421100e-01},
{1.000000000000000e+00,    -1.982627326939080e+00,     9.999995504707700e-01},
{1.000000000000000e+00,    -1.982628218188400e+00,     1.000000449529430e+00},
};


const REAL8 AY_R[NAYfilt][A_digital_Rord]={
{1.000000000000000e+00,     1.639682704794350e+00,     9.887457477293700e-01},
{1.000000000000000e+00,     1.836806671199440e+00,     9.922840940388600e-01},
{1.000000000000000e+00,    -1.982394934485120e+00,     9.997291418722301e-01},
{1.000000000000000e+00,    -1.982323078047150e+00,     9.997285877426600e-01},
};




