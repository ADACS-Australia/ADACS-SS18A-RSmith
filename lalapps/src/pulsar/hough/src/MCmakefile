
# ------------------------------------------------------------
#
# Makefile for  MCInjectComputeHough and the like
#
# Alicia M. Sintes  05-2004
# 
# $Id$
#
# -----------------------------------------------------------

# -----------------------------------------------------------
# your compiler
#CC = gcc3
CC = gcc

#CC = gcc -DTIMING
#CC = gcc -DPRINTHOUGH
#CC = gcc -DTIMING -DPRINTHOUGH
#CC = gcc -DCHECKHOUGHINDEX
# -----------------------------------------------------------
# header file directory
LAL_INCLUDE=/afs/aeiw/grawave/Linux/lal/correct/include/
#LAL_INCLUDE=/scratch/sintes/include/

FFTW_INCLUDE=/usr/local/include

# -----------------------------------------------------------
# libraries

LAL_LIB = /afs/aeiw/grawave/Linux/lal/lib
#LAL_LIB = /scratch/sintes/lib
LLAL = lal
LALSUP = lalsupport

RFFTW_LIB = /usr/local/lib
LRFFTW = srfftw

FFTW_LIB = /usr/local/lib
LFFTW = sfftw

THELIBS = -l$(LALSUP) -l$(LLAL) -lm -L$(LAL_LIB) -L$(RFFTW_LIB) -l$(LRFFTW) -L$(FFTW_LIB) -l$(LFFTW)


p=./timer/cycle_counter/Intel/GCC/
m=../hough/objs_exe/
d=../driver/

# ----------------------------------------------------------
# compiler options
CFLAGS =  -O2 -static -I$(LAL_INCLUDE) -I$(FFTW_INCLUDE) -I$p

#CFLAGS =  -Wall -g -static -I$(LAL_INCLUDE) -I$(FFTW_INCLUDE) -I$p
#CFLAGS =  -Wall -g -I$(LAL_INCLUDE) -I$(FFTW_INCLUDE) -I$p
# -----------------------------------------------------------
# default target
all: MCInject

# -----------------------------------------------------------
#  produce object files

MCInjectComputeHoughII.o: MCInjectComputeHoughII.c MCInjectComputeHough.h
	$(CC) -c $(CFLAGS)  MCInjectComputeHoughII.c


# -----------------------------------------------------------
# link tests code
# -----------------------------------------------------------

MCInject:  $d/rngmed.o  $d/SFTbin.o $d/PeakSelect.o  MCInjectComputeHoughII.o  
	$(CC) $(CFLAGS) -o $@  $d/rngmed.o $d/SFTbin.o $d/PeakSelect.o MCInjectComputeHoughII.o  $(THELIBS)

# -----------------------------------------------------------
# cleaning...
clean:
	rm -f MCInjectComputeHoughII.o MCInjectComputeHough MCInject
