# apache config file for segment database

Listen 128.230.52.99:443
<VirtualHost 128.230.52.99:443>
    DocumentRoot /opt/lscsoft/glue/var/php
    ServerName segdb-dev.phy.syr.edu:443
    ErrorLog logs/ssl_error_log
    TransferLog logs/ssl_access_log
    LogLevel debug

    SSLEngine on
    SSLProtocol all -SSLv2
    SSLCipherSuite ALL:!ADH:!EXPORT:!SSLv2:RC4+RSA:+HIGH:+MEDIUM:+LOW
    SSLCertificateFile /etc/pki/tls/certs/localhost.crt
    SSLCertificateKeyFile /etc/pki/tls/private/localhost.key
    SSLCertificateChainFile /etc/pki/tls/certs/server-chain.crt
    SSLCACertificatePath /etc/grid-security/certificates
    SetEnvIf User-Agent ".*MSIE.*" \
         nokeepalive ssl-unclean-shutdown \
         downgrade-1.0 force-response-1.0

    <Directory /opt/lscsoft/glue/var/php>
        SetEnv GLUEPATH /opt/lscsoft/glue/bin
        SetEnv X509_USER_CERT /etc/pki/tls/certs/ldbdcert.pem 
        SetEnv X509_USER_KEY /etc/pki/tls/certs/ldbdkey.pem 
        SetEnv PYTHONPATH /opt/lscsoft/glue/lib64/python2.4/site-packages:/opt/lscsoft/glue/lib/python2.4/site-packages:/opt/ldg-4.8/globus/lib64/python
        SetEnv LD_LIBRARY_PATH /opt/lscsoft/glue/lib64/python2.4/site-packages:/opt/ldg-4.8/globus/lib
        SetEnv LDBD_SERVER segdb-dev.phy.syr.edu:30020 
        SetEnv SEGMENT_DATA_DIR /var/www/segments
        AddHandler php5-script .php
        AddType text/html .php
        DirectoryIndex index.php
    </Directory>
</VirtualHost>
